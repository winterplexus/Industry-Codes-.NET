@model IndustryCodes.ViewModels.SearchByCodeViewModel
@{
    ViewBag.Title = "Search By Code";
}

<section id="messages">
    @Html.ValidationMessage("ErrorMessage")
</section>

<br />
<h4>@ViewBag.Title</h4>

<section id="code_form">
    <div class="card border-dark mb-3" style="min-width: 20rem;">
        <div class="card-header text-white bg-primary">Search SIC Code Using NAICS Code</div>
        <div class="card-body">
            @using (Html.BeginForm("SearchByCode", "SearchByCode", FormMethod.Post))
            {
                if (string.IsNullOrEmpty(Model.NAICSCode))
                {
                    <div class="row">
                        <div class="col-sm-2">
                            @Html.LabelFor(m => m.NAICSCode):
                        </div>
                        <div class="col-sm-8">
                            @Html.TextBoxFor(m => m.NAICSCode, new { maxlength = "6", title = "Enter NAICS code (six digit number)" })
                            @Html.ValidationMessageFor(m => m.NAICSCode)
                        </div>
                        <div class="col-sm-2"></div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-sm-1">
                            <input type="submit" name="SearchButton" value="Search" class="btn btn-primary btn-sm" title="Search for description using given code" />
                        </div>
                        <div class="col-sm-11"></div>
                    </div>
                }
                if (!string.IsNullOrEmpty(Model.NAICSCode))
                {
                    <div class="row">
                        <div class="col-sm-2">
                            @Html.LabelFor(m => m.NAICSCode):
                        </div>
                        <div class="col-sm-8">
                            @Html.DisplayTextFor(m => m.NAICSCode)
                            @Html.HiddenFor(m => m.NAICSCode)
                        </div>
                        <div class="col-sm-2"></div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2">
                            @Html.LabelFor(m => m.NAICSDescription):
                        </div>
                        <div class="col-sm-8">
                            @Html.DisplayFor(m => m.NAICSDescription)
                            @Html.HiddenFor(m => m.NAICSDescription)
                        </div>
                        <div class="col-sm-2"></div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2">
                            @Html.LabelFor(m => m.SICDescriptions):
                        </div>
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.SelectedSICDescription, Model.SICDescriptions, new { onchange = "this.form.submit();", title = "Select a SIC description" })
                        </div>
                        <div class="col-sm-2"></div>
                    </div>
                    <br />
                    if (!string.IsNullOrEmpty(Model.SICDescription))
                    {
                        <div class="card border-0 p-2">
                            <div class="row">
                                <div class="col-sm-4" style="background-color: gainsboro">@Html.LabelFor(m => m.NAICSCode):</div>
                                <div class="col-sm-8">@Html.DisplayTextFor(m => m.NAICSCode)</div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4" style="background-color: gainsboro">@Html.LabelFor(m => m.NAICSDescription):</div>
                                <div class="col-sm-8">@Html.DisplayTextFor(m => m.NAICSDescription)</div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4" style="background-color: gainsboro">@Html.LabelFor(m => m.SICCode):</div>
                                <div class="col-sm-8">@Html.DisplayTextFor(m => m.SICCode)</div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4" style="background-color: gainsboro">@Html.LabelFor(m => m.SICDescription):</div>
                                <div class="col-sm-8">@Html.DisplayTextFor(m => m.SICDescription)</div>
                            </div>
                        </div>
                        <br />
                    }
                    <div class="row">
                        <div class="col-sm-1">
                            <input type="submit" name="ClearButton" value="Clear" class="btn btn-primary btn-sm" title="Clear search output" />
                        </div>
                        <div class="col-sm-11"></div>
                    </div>
                }
            }
        </div>
    </div>
</section>             