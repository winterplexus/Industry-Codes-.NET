@{
    ViewBag.Title = "Search SIC Code Using NAICS Code";
}

@model IndustryCodes.ViewModels.SearchByCodeViewModel

<section id="messages">
    @Html.ValidationMessage("ErrorMessage")
</section>

<section id="codeform">
    <br />        
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title" contenteditable="true">@ViewBag.Title</h3>
        </div>    
        <div class="panel-body">
            @using (Html.BeginForm("SearchByCode", "SearchByCode", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true)

                if (string.IsNullOrEmpty(Model.NAICSCode))
                {
                    <div class="row">
                        <div class="col-sm-2">
                            @Html.LabelFor(m => m.NAICSCode):
                        </div>
                        <div class="col-sm-8">
                            @Html.TextBoxFor(m => m.NAICSCode, new { size = "6", maxlength = "6", title = "Enter NAICS code (six digit number)" })
                            @Html.ValidationMessageFor(m => m.NAICSCode)
                        </div>
                        <div class="col-sm-2"></div>
                    </div>  
                    <br />    
                    <div class="row">
                        <div class="col-sm-1">
                            <input type="submit" name="SearchButton" value="Search" class="btn btn-primary btn-sm" title="Search for description using given code" />
                        </div>
                        <div class="col-sm-11"></div>
                    </div>
                }    
                if (!string.IsNullOrEmpty(Model.NAICSCode))
                {
                    <div class="row">
                        <div class="col-sm-2">
                            @Html.LabelFor(m => m.NAICSCode):
                        </div>
                        <div class="col-sm-8">
                            @Html.DisplayTextFor(m => m.NAICSCode)
                            @Html.HiddenFor(m => m.NAICSCode)
                        </div>
                        <div class="col-sm-2"></div>
                    </div>  
                    <div class="row">
                        <div class="col-sm-2">
                            @Html.LabelFor(m => m.NAICSDescription):
                        </div>
                        <div class="col-sm-8">
                            @Html.DisplayFor(m => m.NAICSDescription)
                            @Html.HiddenFor(m => m.NAICSDescription)
                        </div>
                        <div class="col-sm-2"></div>
                    </div>    
                    <div class="row">
                        <div class="col-sm-2">
                            @Html.LabelFor(m => m.SICDescriptions):
                        </div>
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.SelectedSICDescription, Model.SICDescriptions, new { onchange = "this.form.submit();", title = "Select a SIC description" })
                        </div>
                        <div class="col-sm-2"></div>
                    </div>    
                    <br />    
                    if (!string.IsNullOrEmpty(Model.SICDescription))
                    {
                        <div class="well well-sm">
                            <table class="table table-striped table-condensed">
                                <thead></thead>
                                <tbody>
                                    <tr>
                                        <td class="col-sm-2">
                                            @Html.LabelFor(m => m.NAICSCode):
                                        </td>
                                        <td class="col-sm-10">
                                            @Html.DisplayTextFor(m => m.NAICSCode)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">
                                            @Html.LabelFor(m => m.NAICSDescription):
                                        </td>
                                        <td class="col-sm-10">
                                            @Html.DisplayTextFor(m => m.NAICSDescription)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">
                                            @Html.LabelFor(m => m.SICCode):
                                        </td>
                                        <td class="col-sm-10">
                                            @Html.DisplayTextFor(m => m.SICCode)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">
                                            @Html.LabelFor(m => m.SICDescription):
                                        </td>
                                        <td class="col-sm-10">
                                            @Html.DisplayTextFor(m => m.SICDescription)
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    }     
                    <div class="row">
                        <div class="col-sm-1">
                            <input type="submit" name="ClearButton" value="Clear" class="btn btn-primary btn-sm" title="Clear search output" />
                        </div>
                        <div class="col-sm-11"></div>
                    </div>
                }
            }
        </div>
    </div>
</section>             